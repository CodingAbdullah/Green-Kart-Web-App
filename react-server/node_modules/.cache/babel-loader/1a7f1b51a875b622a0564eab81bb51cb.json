{"ast":null,"code":"import { REGISTER_SUCCESS, REGISTER_FAILURE, USER_AUTH_FAILURE, USER_LOADED, LOGIN_SUCCESS, LOGIN_FAILURE } from './types';\nimport setAuthToken from '../util/authToken';\nimport axios from 'axios';\nexport const register = (firstname, lastname, age, email, password, address, gender) => dispatch => {\n  const body = JSON.stringify({\n    firstname,\n    lastname,\n    age,\n    email,\n    password,\n    address,\n    gender\n  });\n  const config = {\n    headers: {\n      'Content-type': 'application/json'\n    }\n  };\n  axios.post('/signUpForm', body, config).then(response => {\n    console.log(response.data);\n    dispatch({\n      type: REGISTER_SUCCESS,\n      payload: response.data\n    });\n    dispatch(loadUser());\n  }).catch(err => {\n    console.log(\"Error exists while trying to register user \" + err);\n    dispatch({\n      type: REGISTER_FAILURE\n    });\n  });\n};\nexport const login = (email, password) => dispatch => {\n  const body = JSON.stringify({\n    email,\n    password\n  });\n  const config = {\n    headers: {\n      'Content-type': 'application/json'\n    }\n  };\n  axios.post(\"/loginSubmitForm\", body, config).then(response => {\n    dispatch({\n      type: LOGIN_SUCCESS,\n      payload: response.data\n    });\n    dispatch(loadUser());\n  }).catch(err => {\n    console.log(\"There was an error validating login credentials \" + err);\n    dispatch({\n      type: LOGIN_FAILURE\n    });\n  });\n};","map":{"version":3,"sources":["/Users/fresh/Desktop/Projects/Green Kart Web-App/Green-Kart-Web-App/front-end/react-server/src/redux/action/authAction.js"],"names":["REGISTER_SUCCESS","REGISTER_FAILURE","USER_AUTH_FAILURE","USER_LOADED","LOGIN_SUCCESS","LOGIN_FAILURE","setAuthToken","axios","register","firstname","lastname","age","email","password","address","gender","dispatch","body","JSON","stringify","config","headers","post","then","response","console","log","data","type","payload","loadUser","catch","err","login"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,gBAA3B,EAA6CC,iBAA7C,EAAgEC,WAAhE,EAA6EC,aAA7E,EAA4FC,aAA5F,QAAiH,SAAjH;AACA,OAAOC,YAAP,MAA0B,mBAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,QAAQ,GAAG,CAACC,SAAD,EAAYC,QAAZ,EAAsBC,GAAtB,EAA2BC,KAA3B,EAAkCC,QAAlC,EAA4CC,OAA5C,EAAqDC,MAArD,KAAiEC,QAAD,IAAc;AAClG,QAAMC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe;AAACV,IAAAA,SAAD;AAAYC,IAAAA,QAAZ;AAAsBC,IAAAA,GAAtB;AAA2BC,IAAAA,KAA3B;AAAkCC,IAAAA,QAAlC;AAA4CC,IAAAA,OAA5C;AAAqDC,IAAAA;AAArD,GAAf,CAAb;AAEA,QAAMK,MAAM,GAAG;AACXC,IAAAA,OAAO,EAAG;AACN,sBAAgB;AADV;AADC,GAAf;AAMAd,EAAAA,KAAK,CAACe,IAAN,CAAW,aAAX,EAA0BL,IAA1B,EAAgCG,MAAhC,EACCG,IADD,CACMC,QAAQ,IAAI;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;AAEAX,IAAAA,QAAQ,CAAC;AACLY,MAAAA,IAAI,EAAE5B,gBADD;AAEL6B,MAAAA,OAAO,EAAEL,QAAQ,CAACG;AAFb,KAAD,CAAR;AAKAX,IAAAA,QAAQ,CAACc,QAAQ,EAAT,CAAR;AACH,GAVD,EAWCC,KAXD,CAWOC,GAAG,IAAI;AACVP,IAAAA,OAAO,CAACC,GAAR,CAAY,gDAAgDM,GAA5D;AAEAhB,IAAAA,QAAQ,CAAC;AACLY,MAAAA,IAAI,EAAE3B;AADD,KAAD,CAAR;AAGH,GAjBD;AAkBH,CA3BM;AA6BP,OAAO,MAAMgC,KAAK,GAAG,CAACrB,KAAD,EAAQC,QAAR,KAAsBG,QAAD,IAAc;AAEpD,QAAMC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe;AAACP,IAAAA,KAAD;AAAQC,IAAAA;AAAR,GAAf,CAAb;AACA,QAAMO,MAAM,GAAG;AAEXC,IAAAA,OAAO,EAAG;AACN,sBAAgB;AADV;AAFC,GAAf;AAOAd,EAAAA,KAAK,CAACe,IAAN,CAAW,kBAAX,EAA+BL,IAA/B,EAAqCG,MAArC,EACCG,IADD,CACMC,QAAQ,IAAI;AAEdR,IAAAA,QAAQ,CAAC;AACLY,MAAAA,IAAI,EAAExB,aADD;AAELyB,MAAAA,OAAO,EAAEL,QAAQ,CAACG;AAFb,KAAD,CAAR;AAKAX,IAAAA,QAAQ,CAACc,QAAQ,EAAT,CAAR;AACH,GATD,EAUCC,KAVD,CAUOC,GAAG,IAAI;AACVP,IAAAA,OAAO,CAACC,GAAR,CAAY,qDAAqDM,GAAjE;AAEAhB,IAAAA,QAAQ,CAAC;AACLY,MAAAA,IAAI,EAAEvB;AADD,KAAD,CAAR;AAGH,GAhBD;AAiBH,CA3BM","sourcesContent":["import { REGISTER_SUCCESS, REGISTER_FAILURE, USER_AUTH_FAILURE, USER_LOADED, LOGIN_SUCCESS, LOGIN_FAILURE } from './types';\nimport setAuthToken  from '../util/authToken';\nimport axios from 'axios';\n\nexport const register = (firstname, lastname, age, email, password, address, gender) => (dispatch) => {\n    const body = JSON.stringify({firstname, lastname, age, email, password, address, gender});\n\n    const config = {\n        headers : {\n            'Content-type': 'application/json'\n        }\n    };\n\n    axios.post('/signUpForm', body, config)\n    .then(response => {\n        console.log(response.data);\n\n        dispatch({\n            type: REGISTER_SUCCESS,\n            payload: response.data\n        });\n\n        dispatch(loadUser());\n    })\n    .catch(err => {\n        console.log(\"Error exists while trying to register user \" + err);\n\n        dispatch({\n            type: REGISTER_FAILURE\n        });\n    });\n}\n\nexport const login = (email, password) => (dispatch) => {\n     \n    const body = JSON.stringify({email, password});\n    const config = {\n\n        headers : {\n            'Content-type': 'application/json'\n        }\n    };\n\n    axios.post(\"/loginSubmitForm\", body, config)\n    .then(response => {\n\n        dispatch({\n            type: LOGIN_SUCCESS, \n            payload: response.data\n        });\n\n        dispatch(loadUser());\n    })\n    .catch(err => {\n        console.log(\"There was an error validating login credentials \" + err);\n\n        dispatch({\n            type: LOGIN_FAILURE\n        });\n    });\n}"]},"metadata":{},"sourceType":"module"}