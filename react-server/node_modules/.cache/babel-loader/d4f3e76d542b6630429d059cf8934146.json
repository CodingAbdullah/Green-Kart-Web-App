{"ast":null,"code":"import { USER_LOADED, USER_AUTH_FAILURE } from '../action/types';\nimport axios from 'axios';\nimport { setAuthToken } from '../util/authToken';\nexport const loadUser = () => dispatch => {\n  if (localStorage.token) {\n    setAuthToken(localStorage.token);\n    axios.get(\"/auth\").then(response => {\n      dispatch({\n        type: USER_LOADED,\n        payload: response.data\n      });\n    }).catch(err => {\n      console.log(\"There was an error validating the token \" + err);\n      dispatch({\n        type: USER_AUTH_FAILURE\n      });\n    });\n  }\n};","map":{"version":3,"sources":["/Users/fresh/Desktop/Green Kart Web-App/Green-Kart-Web-App/front-end/react-server/src/redux/action/loadUserAction.js"],"names":["USER_LOADED","USER_AUTH_FAILURE","axios","setAuthToken","loadUser","dispatch","localStorage","token","get","then","response","type","payload","data","catch","err","console","log"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,iBAAtB,QAA+C,iBAA/C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAASC,YAAT,QAA6B,mBAA7B;AAEA,OAAO,MAAMC,QAAQ,GAAG,MAAOC,QAAD,IAAc;AACxC,MAAIC,YAAY,CAACC,KAAjB,EAAuB;AACnBJ,IAAAA,YAAY,CAACG,YAAY,CAACC,KAAd,CAAZ;AAEAL,IAAAA,KAAK,CAACM,GAAN,CAAU,OAAV,EACCC,IADD,CACMC,QAAQ,IAAI;AACdL,MAAAA,QAAQ,CAAC;AACLM,QAAAA,IAAI,EAAEX,WADD;AAELY,QAAAA,OAAO,EAAEF,QAAQ,CAACG;AAFb,OAAD,CAAR;AAIH,KAND,EAOCC,KAPD,CAOOC,GAAG,IAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAY,6CAA6CF,GAAzD;AACAV,MAAAA,QAAQ,CAAC;AACLM,QAAAA,IAAI,EAAEV;AADD,OAAD,CAAR;AAGH,KAZD;AAaH;AACJ,CAlBM","sourcesContent":["import { USER_LOADED, USER_AUTH_FAILURE } from '../action/types';\nimport axios from 'axios';\n\nimport { setAuthToken } from '../util/authToken';\n\nexport const loadUser = () => (dispatch) => {\n    if (localStorage.token){\n        setAuthToken(localStorage.token);\n\n        axios.get(\"/auth\")\n        .then(response => {\n            dispatch({\n                type: USER_LOADED,\n                payload: response.data\n            });\n        })\n        .catch(err => {\n            console.log(\"There was an error validating the token \" + err);\n            dispatch({\n                type: USER_AUTH_FAILURE\n            });\n        });\n    }\n}"]},"metadata":{},"sourceType":"module"}